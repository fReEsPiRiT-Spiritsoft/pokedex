<!DOCTYPE html>
<html lang="de">

<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Pok√©dex Arena</title>
    <link rel="stylesheet" href="./styles/style.css" />
    <link rel="stylesheet" href="./styles/animation.css" />
    <link rel="stylesheet" href="./styles/colors.css" />
    <script src="./scripts/db.js" defer></script>
    <script src="./scripts/template.js" defer></script>
    <script src="./scripts/script.js" defer></script>
    <script src="./scripts/template.js" defer></script>
    <script src="./scripts/cardoverlay.js" defer></script>
    <script src="./scripts/audio.js" defer></script>
    <link rel="icon" href="./icons/fav.ico" type="image/x-icon">
</head>

<body onload="enableBackgroundSoundOnUserAction();">
    <!-- Ladescreen mit Pokeball Animation -->
    <div id="loading-screen" class="loading-screen">
        <div class="pokeball-loader">
            <div class="pokeball">
                <div class="pokeball-top"></div>
                <div class="pokeball-middle"></div>
                <div class="pokeball-bottom"></div>
            </div>
            <p>Lade Pok√©mon...</p>
        </div>
    </div>

    <!-- Haupt-Container -->
    <div id="main-app" class="main-app hidden">
        <div class="header">
            <img src="./img/logo.png" alt="">
        </div>
        <!-- Pokemon Arena Section -->
        <section id="pokemon-arena" class="pokemon-arena">
            <div class="arena-container">
                <!-- Video Background f√ºr Arena Intro -->
                <video id="arena-video" class="arena-video" muted autoplay onended="handleArenaVideoEnd()">
                    <source src="./img/arena.mp4" type="video/mp4">
                    <!-- Fallback f√ºr Browser ohne Video Support -->
                </video>

                <!-- statisches arena bild (wird nach Video angezeigt) -->

                <img id="arena-background" class="arena-background hidden" src="./img/arena.png" alt="Pokemon Arena">

                <div id="open-selection-btn" class="open-selection-btn">
                    <img src="./img/ball-pokemon-unscreen.gif" alt="Pokeball ausw√§hlen" />
                </div>
                <!-- Ausgew√§hltes Pokemon in der Arena -->
                <div id="selected-pokemon" class="selected-pokemon hidden">

                    <div id="pokemon-info" class="pokemon-info">
                        <div class="ball-hint-container" style="position:relative; display:inline-block;">
                            <div id="close-hint" class="close-hint" style="display:none;">
                                <span style="color:#ff1744; font-size:1.5em;">&#8592;</span> Zur√ºck
                            </div>
                            <img src="./img/ball-pokemon-unscreen.gif" alt="Pokeball" class="back-to-ball-btn"
                                onclick="backToBall()">
                        </div>
                        <h2 id="pokemon-name"></h2>
                        <div class="pokemon-types" id="pokemon-types"></div>
                        <div class="pokemon-stats" id="pokemon-stats"></div>
                        <img id="pokemon-sprite" class="pokemon-sprite" src="" alt="">
                    </div>
                </div>

                <!-- Pokeball Animation f√ºr Auswahl -->
                <div id="pokeball-animation" class="pokeball-animation hidden">
                    <img src="./img/ball-pokemon-unscreen.gif" alt="Pokeball" class="flying-pokeball">
                </div>
            </div>
        </section>

        <!-- Pokemon Karten Auswahl -->


        <section id="pokemon-selection" class="pokemon-selection">
            <div class="selection-header">
                <div class="view-switch">
                    <button id="arena-view-btn" class="switch-btn active">‚Üê Arena</button>
                    <span class="switch-label">Ansicht wechseln</span>
                    <button id="card-view-btn" class="switch-btn">Kartenansicht ‚Üí</button>

                </div>
                <input type="range" id="volumeMusik" name="volume" min="0" max="11" />
                <label for="volume">Musik Volume</label>
                <input type="range" id="volume" name="volume" min="0" max="11" />
                <label for="volume">SFX Volume</label>

                <!-- Overlay f√ºr Kartenansicht -->
                <div id="card-overlay" class="card-overlay hidden">
                    <button id="prev-pokemon" class="nav-btn">‚Üê</button>
                    <div id="card-overlay-content"></div>
                    <button id="next-pokemon" class="nav-btn">‚Üí</button>
                    <button id="close-card-overlay" class="close-btn">‚úñ</button>
                </div>
                <h1>W√§hle dein Pok√©mon</h1>
                <div class="search-container">
                    <input type="text" id="pokemon-search" placeholder="Pok√©mon suchen..." class="search-input">
                    <button id="search-btn" class="search-btn">üîç</button>
                </div>
            </div>

            <!-- Filter Buttons -->
            <div class="filter-container">
                <button onclick="showFilterBTN()" class="filter-btn-switch" id="show-filter-btn">Show Filter</button>
                <div class="filter-btn-group filter-container hidden">
                    <button class="filter-btn active" data-type="all">Alle</button>
                    <button class="filter-btn" data-type="fire">üî• Feuer</button>
                    <button class="filter-btn" data-type="water">üíß Wasser</button>
                    <button class="filter-btn" data-type="grass">üåø Pflanze</button>
                    <button class="filter-btn" data-type="electric">‚ö° Elektro</button>
                    <button class="filter-btn" data-type="psychic">üîÆ Psycho</button>
                    <button class="filter-btn" data-type="ice">‚ùÑÔ∏è Eis</button>
                    <button class="filter-btn" data-type="dragon">üêâ Drache</button>
                    <button class="filter-btn" data-type="dark">üåö Unlicht</button>
                    <button class="filter-btn" data-type="fairy">üßö Fee</button>
                </div>
            </div>

            <!-- Pokemon Karten Grid -->
            <div id="pokemon-cards" class="pokemon-cards">
                <!-- kaarten werden hier dynamisch eingef√ºgt -->

            </div>

            <!-- Lade-mehr Button -->
            <!-- <div class="load-more-container">
                <button id="load-more" class="load-more-btn">Mehr Pok√©mon laden</button>
            </div> -->
        </section>
    </div>

    <!-- Pokemon Karten Template (wird von JavaScript verwendet) -->
    <template id="pokemon-card-template">
        <div class="pokemon-card" data-pokemon-id="">
            <div class="card-inner">
                <div class="card-front">
                    <div class="card-header">
                        <span class="pokemon-id">#000</span>
                        <div class="pokemon-types-small"></div>
                    </div>
                    <div class="pokemon-image-container">
                        <img class="pokemon-image" src="" alt="">
                    </div>
                    <div class="card-footer">
                        <h3 class="pokemon-name"></h3>
                        <p class="pokemon-name-german"></p>
                    </div>
                </div>
                <div class="card-back">
                    <div class="pokemon-stats-detailed">
                        <h4>Stats</h4>
                        <div class="stat-bar">
                            <span>KP</span>
                            <div class="stat-value"><span class="hp-value"></span></div>
                        </div>
                        <div class="stat-bar">
                            <span>Angriff</span>
                            <div class="stat-value"><span class="attack-value"></span></div>
                        </div>
                        <div class="stat-bar">
                            <span>Verteidigung</span>
                            <div class="stat-value"><span class="defense-value"></span></div>
                        </div>
                        <div class="stat-bar">
                            <span>Initiative</span>
                            <div class="stat-value"><span class="speed-value"></span></div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </template>
</body>

</html>